(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{593:function(e,t,r){"use strict";r(38);var n=r(9),c=r(42),o=(r(160),r(116),r(8)),l=(r(58),r(595)),d=r.n(l),m=r(13),v=r(41),h={props:{selectedSubjects:{type:Array,required:!0},headers:{type:Array,required:!0},menuOptions:{type:Array,required:!0}},data:function(){return{menuActive:!1,isCapturing:!1,sheet:!1,links:[{icon:"fab fa-whatsapp",title:"Whatsapp",url:"https://wa.me?text=https://cuandorindo.com"},{icon:"fab fa-facebook",title:"Facebook",url:"http://www.facebook.com/sharer.php?u=https://cuandorindo.com"},{icon:"fab fa-twitter",title:"Twitter",url:"https://twitter.com/share?url=https://cuandorindo.com"}],defaultLinks:[{icon:"fab fa-whatsapp",title:"Whatsapp",url:"https://wa.me?text=https://cuandorindo.com"},{icon:"fab fa-facebook",title:"Facebook",url:"http://www.facebook.com/sharer.php?u=https://cuandorindo.com"},{icon:"fab fa-twitter",title:"Twitter",url:"https://twitter.com/share?url=https://cuandorindo.com"}],hasShare:!1}},watch:{sheet:function(e){if(e){this.links=this.defaultLinks;var t=this.selectedSubjects.map(function(i){return i.id}),r=document.location.href.replace("favoritos","inicio");this.links=this.links.map(function(e){return Object(o.a)({},e,{url:"".concat(e.url.split("=")[0],"=").concat(r).concat(t.length>0?"?subjects="+t:"")})})}}},mounted:function(){this.hasShare=!!navigator.share},computed:{headersVisible:function(){var e=this;return this.headers.filter(function(header){var t=e.menuOptions.find(function(i){return header.id===i.id});return!t||t.isVisible})}},methods:{customSort:function(e,t,r){return"object"===Object(c.a)(r)?e:"nearestExam.date"===t?Object(m.e)(e,{sortBy:t,type:"date",isDescending:r}):Object(m.e)(e,{sortBy:t,type:"string",isDescending:r})},downloadTable:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isCapturing=!0,t=Object(v.find)(this.menuOptions,["id","acciones"]),r=!1,t.isVisible&&(r=!0,this.$emit("change-visibility-menu-item",t)),this.$nextTick(Object(n.a)(regeneratorRuntime.mark(function e(){var n,canvas,o,link;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector(".v-datatable.v-table"),e.next=3,d()(n);case 3:canvas=e.sent,o=canvas.toDataURL("image/jpeg"),"cuandorindo.png",(link=document.createElement("a")).href=o,link.download="cuandorindo.png",document.body.appendChild(link),link.click(),link.parentNode.removeChild(link),c.isCapturing=!1,r&&c.$emit("change-visibility-menu-item",t);case 14:case"end":return e.stop()}},e)})));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),shareTable:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.selectedSubjects.map(function(i){return i.id}),r=document.location.href.replace("favoritos","inicio"),navigator.share({title:"¿Cuando rindo?",text:"",url:"".concat(r).concat(t.length>0?"?subjects="+t:"")});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),columnIsVisible:function(e){var t=Object(v.find)(this.menuOptions,["id",e]);return!!t&&t.isVisible}}},f=r(11),component=Object(f.a)(h,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("v-layout",{attrs:{"px-3":""}},[r("v-subheader",{staticClass:"px-0 py-0"},[e._t("title",[e._v("Materias seleccionadas")])],2),e._v(" "),r("v-spacer"),e._v(" "),r("v-menu",{attrs:{value:e.menuActive,"close-on-content-click":!0,bottom:"",left:"","max-height":"300px"}},[r("v-btn",{attrs:{slot:"activator",icon:e.$vuetify.breakpoint.xs,flat:""},slot:"activator"},[r("span",{class:{"d-none":e.$vuetify.breakpoint.xs}},[e._v("Configuración")]),e._v(" "),r("v-icon",{class:{"ml-2":!e.$vuetify.breakpoint.xs}},[e._v("settings")])],1),e._v(" "),r("v-card",{attrs:{flat:""}},[r("v-list",[r("v-list-tile",[e._v("\n            Configuracion de la tabla\n          ")])],1),e._v(" "),r("v-divider"),e._v(" "),e._l(e.menuOptions,function(t,n){return r("v-list",{key:t.id},[r("v-list-tile",[r("v-list-tile-action",[r("v-switch",{attrs:{"input-value":t.isVisible,color:"primary"},on:{change:function(r){return e.$emit("change-visibility-menu-item",t)}}})],1),e._v(" "),r("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)})],2)],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-data-table",{attrs:{headers:e.headersVisible,"custom-sort":e.customSort,items:e.selectedSubjects,"no-data-text":"Aun no cargaste materias","hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return r("tr",{staticStyle:{"user-select":"none"}},[e.columnIsVisible("establecimiento")?r("td",{staticClass:"text-truncate"},[e._v(e._s(t.item.university.name))]):e._e(),e._v(" "),e.columnIsVisible("facultad")?r("td",{staticClass:"text-truncate"},[e._v(e._s(t.item.faculty.name))]):e._e(),e._v(" "),e.columnIsVisible("carrera")?r("td",{staticClass:"text-truncate"},[e._v(e._s(t.item.career.name))]):e._e(),e._v(" "),e.columnIsVisible("materia")?r("td",{staticClass:"text-truncate"},[e._v(e._s(t.item.name))]):e._e(),e._v(" "),e.columnIsVisible("plan")?r("td",{staticClass:"text-truncate"},[e._v(e._s(t.item.plan?t.item.plan.name:"(Sin especificar)"))]):e._e(),e._v(" "),e.columnIsVisible("mesa-mas-cercana")?r("td",{staticClass:"text-truncate"},[t.item.nearestExam&&t.item.nearestExam.date?[r("span",{staticClass:"font-weight-black"},[e._v("Fecha: "+e._s(e._f("formatTimeDDMMMMYYYYHmmSE")(t.item.nearestExam.date)))]),e._v(" "),t.item.nearestExam.classroom?[r("br"),e._v(" "),r("span",[e._v("Aula: "+e._s(t.item.nearestExam.classroom.name))])]:e._e(),e._v(" "),t.item.nearestExam.seat?[r("br"),e._v(" "),r("span",[e._v("Sede: "+e._s(t.item.nearestExam.seat.name))])]:e._e(),e._v(" "),t.item.nearestExam.teachers.length?[r("br"),e._v(" "),r("span",[e._v("Profesores:")]),e._v(" "),r("br"),e._v(" "),r("ul",e._l(t.item.nearestExam.teachers,function(t){return r("li",{key:t.id},[e._v("\n                "+e._s(t.last_name)+", "+e._s(t.first_name)+" ("+e._s(t.role)+")\n              ")])}),0)]:e._e()]:[e._v("\n          No hay mesa cercana por el momento\n        ")]],2):e._e(),e._v(" "),e.columnIsVisible("proximas-mesas")?r("td",{staticClass:"text-truncate"},[t.item.nextExams.length?r("ul",e._l(t.item.nextExams,function(t){return r("li",{key:t.id,staticClass:"my-1",class:{"my-2":e.columnIsVisible("proximas-mesas-mas-informacion")}},[r("span",{staticClass:"font-weight-black"},[e._v("Fecha: "+e._s(e._f("formatTimeDDMMMMYYYYHmmSE")(t.date)))]),e._v(" "),e.columnIsVisible("proximas-mesas-mas-informacion")?[t.classroom?[r("br"),e._v(" "),r("span",[e._v("Aula: "+e._s(t.classroom.name))])]:e._e(),e._v(" "),t.seat?[r("br"),e._v(" "),r("span",[e._v("Sede: "+e._s(t.seat.name))])]:e._e(),e._v(" "),t.teachers.length>0?[r("br"),e._v(" "),r("span",[e._v("Profesores: ")]),e._v(" "),r("br"),e._v(" "),r("ul",e._l(t.teachers,function(t){return r("li",{key:t.id},[e._v("\n                    "+e._s(t.last_name)+", "+e._s(t.first_name)+" ("+e._s(t.role)+")\n                  ")])}),0)]:e._e()]:e._e()],2)}),0):[e._v("\n          No hay proximas mesas por el momento\n        ")]],2):e._e(),e._v(" "),e.columnIsVisible("acciones")?r("td",{staticClass:"layout align-center"},[r("v-tooltip",{attrs:{bottom:""}},[t.item.favorite?r("v-icon",{staticClass:"mr-2",attrs:{slot:"activator",color:"error",icon:"",flat:""},on:{click:function(r){return e.$emit("remove-favorite",t.item)}},slot:"activator"},[e._v("\n            favorite\n          ")]):r("v-icon",{staticClass:"mr-2",attrs:{slot:"activator",color:"error",icon:"",flat:""},on:{click:function(r){return e.$emit("add-favorite",t.item)}},slot:"activator"},[e._v("\n            favorite_border\n          ")]),e._v(" "),r("span",[e._v(e._s(t.item.favorite?"Eliminar":"Agregar")+" materia de/a tus favoritos")])],1),e._v(" "),r("v-tooltip",{attrs:{bottom:""}},[r("v-icon",{attrs:{slot:"activator",icon:"",flat:""},on:{click:function(r){return e.$emit("remove-subject",t.item)}},slot:"activator"},[e._v("\n            delete\n          ")]),e._v(" "),r("span",[e._v("Eliminar elemento de la tabla")])],1)],1):e._e()])}}])},[e._v(" "),e.selectedSubjects.length>0&&!e.isCapturing?r("template",{slot:"footer"},[r("td",{attrs:{colspan:e.headers.length}},[e.hasShare?r("v-btn",{attrs:{color:"primary",flat:"",small:""},on:{click:e.shareTable}},[r("v-icon",{staticClass:"mr-2"},[e._v("share")]),e._v("\n          Compartir\n        ")],1):r("v-bottom-sheet",{model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[r("v-btn",{attrs:{slot:"activator",color:"primary",small:"",flat:"",dark:""},slot:"activator"},[r("v-icon",{staticClass:"mr-2"},[e._v("share")]),e._v("\n            Compartir\n          ")],1),e._v(" "),r("v-list",[r("v-subheader",[e._v("Compartir en")]),e._v(" "),e._l(e.links,function(link){return r("v-list-tile",{key:link.title,attrs:{href:link.url,target:"_blank"},on:{click:function(t){e.sheet=!1}}},[r("v-list-tile-avatar",[r("v-btn",{attrs:{icon:"",flat:""}},[r("v-icon",[e._v(e._s(link.icon))])],1)],1),e._v(" "),r("v-list-tile-title",[e._v(e._s(link.title))])],1)})],2)],1),e._v(" "),r("v-btn",{attrs:{slot:"activator",color:"secondary",flat:"",small:""},on:{click:e.downloadTable},slot:"activator"},[r("v-icon",{staticClass:"mr-2"},[e._v("cloud_download")]),e._v("\n          Descargar\n        ")],1)],1)]):e._e()],2),e._v(" "),r("v-dialog",{attrs:{persistent:"",width:"180"},model:{value:e.isCapturing,callback:function(t){e.isCapturing=t},expression:"isCapturing"}},[r("v-card",[r("v-container",{attrs:{"fill-height":"",fluid:""}},[r("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{"d-flex":""}},[r("FingerprintSpinner",{attrs:{"animation-duration":1e3,size:120,color:"#757575"}})],1)],1)],1),e._v(" "),r("v-card-text",[e._v("\n        Descargando...\n      ")])],1)],1)],1)},[],!1,null,"3d22a476",null);t.a=component.exports},594:function(e,t,r){"use strict";r(37);var n=r(8),c=(r(38),r(9)),o=r(13),l=r(20),d={props:{selection:{type:Object,required:!0},selectable:{type:Object,required:!0}},data:function(){return{loading:!0}},mounted:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this["services/universities/getAll"]();case 3:t=e.sent,this.$emit("set-selectable",{universities:this.orderByName(t)}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0.response);case 11:return e.prev=11,this.loading=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,7,11,14]])}));return function(){return e.apply(this,arguments)}}(),watch:{universityId:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var r,n,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,!t){e.next=11;break}return e.next=5,this["services/universities/getOne"]({universityId:t});case 5:r=e.sent,1===(n=r.faculties).length&&(this.facultyId=n[0].id),this.$emit("set-selectable",{faculties:this.orderByName(n)}),e.next=18;break;case 11:return this.subjectId&&this.$emit("set-selection",{subjectId:0}),this.careerId&&this.$emit("set-selection",{careerId:0}),this.facultyId&&this.$emit("set-selection",{facultyId:0}),e.next=16,this["services/universities/getAll"]();case 16:c=e.sent,this.$emit("set-selectable",{universities:this.orderByName(c)});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(0);case 22:return e.prev=22,this.loading=!1,e.finish(22);case 25:case"end":return e.stop()}},e,this,[[0,20,22,25]])}));return function(t){return e.apply(this,arguments)}}(),facultyId:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var r,n,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,!t){e.next=11;break}return e.next=5,this["services/faculties/getOne"]({facultyId:t});case 5:r=e.sent,1===(n=r.careers).length&&(this.careerId=n[0].id),this.$emit("set-selectable",{careers:this.orderByName(n)}),e.next=19;break;case 11:return this.subjectId&&this.$emit("set-selection",{subjectId:0}),this.careerId&&this.$emit("set-selection",{careerId:0}),e.next=15,this["services/universities/getOne"]({universityId:this.universityId});case 15:c=e.sent,1===(o=c.faculties).length&&(this.facultyId=o[0].id),this.$emit("set-selectable",{faculties:this.orderByName(o)});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(0);case 23:return e.prev=23,this.loading=!1,e.finish(23);case 26:case"end":return e.stop()}},e,this,[[0,21,23,26]])}));return function(t){return e.apply(this,arguments)}}(),careerId:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var r,c,o,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,!t){e.next=12;break}return this.$emit("set-selectable",{subjects:[]}),e.next=6,this["services/careers/getOne"]({careerId:t});case 6:r=e.sent,c=r.subjects,o=c.map(function(s){return Object(n.a)({},s,{name:"".concat(s.name).concat(s.plan?" (Plan "+s.plan.name+")":"")})}),this.$emit("set-selectable",{subjects:this.orderByName(o)}),e.next=19;break;case 12:return this.subjectId&&this.$emit("set-selection",{subjectId:0}),e.next=15,this["services/faculties/getOne"]({facultyId:this.facultyId});case 15:l=e.sent,1===(d=l.careers).length&&(this.careerId=d[0].id),this.$emit("set-selectable",{careers:this.orderByName(d)});case 19:e.next=23;break;case 21:e.prev=21,e.t0=e.catch(0);case 23:return e.prev=23,this.loading=!1,e.finish(23);case 26:case"end":return e.stop()}},e,this,[[0,21,23,26]])}));return function(t){return e.apply(this,arguments)}}(),subjectId:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,!t){e.next=8;break}return e.next=5,this["services/subjects/getOne"]({subjectId:t});case 5:r=e.sent,this.$emit("set-selection",{subjectId:0}),this.$emit("new-subject",r);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,10,12,15]])}));return function(t){return e.apply(this,arguments)}}()},methods:Object(n.a)({},Object(l.b)(["services/universities/getAll","services/universities/getOne","services/faculties/getOne","services/careers/getOne","services/subjects/getOne"]),{customFilterAutocomplete:o.a,orderByName:o.f}),computed:{universityId:{get:function(){return this.selection.universityId},set:function(e){this.$emit("set-selection",{universityId:e})}},facultyId:{get:function(){return this.selection.facultyId},set:function(e){this.$emit("set-selection",{facultyId:e})}},careerId:{get:function(){return this.selection.careerId},set:function(e){this.$emit("set-selection",{careerId:e})}},subjectId:{get:function(){return this.selection.subjectId},set:function(e){this.$emit("set-selection",{subjectId:e})}}}},m=r(11),component=Object(m.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("v-layout",{attrs:{"px-3":""}},[r("v-subheader",{staticClass:"px-0 py-0"},[e._v("Buscar mesas")])],1),e._v(" "),r("v-divider"),e._v(" "),r("div",[r("v-layout",{attrs:{wrap:"",row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg3:""}},[r("v-autocomplete",{attrs:{"append-icon":e.universityId?"close":"arrow_drop_down","background-color":e.universityId?"grey darken-2":"dark",filter:e.customFilterAutocomplete,items:e.selectable.universities,loading:e.loading&&!e.universityId,readonly:!!e.universityId||e.loading,"hide-details":"","hide-selected":"","item-text":"name","item-value":"id",label:"Selecciona un establecimiento","no-data-text":"No hay establecimientos para seleccionar",solo:""},on:{"click:append":function(t){return e.$emit("set-selection",{universityId:0})}},model:{value:e.universityId,callback:function(t){e.universityId=e._n(t)},expression:"universityId"}})],1),e._v(" "),0!=e.universityId&&1!==e.selectable.faculties.length?r("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg3:""}},[r("v-autocomplete",{attrs:{flat:"","append-icon":e.facultyId?"close":"arrow_drop_down","background-color":e.facultyId?"grey darken-2":"dark",filter:e.customFilterAutocomplete,items:e.selectable.faculties,loading:e.loading&&!e.facultyId,readonly:!!e.facultyId||e.loading,"hide-details":"","hide-selected":"","item-text":"name","item-value":"id",label:"Selecciona una facultad","no-data-text":"No hay facultades para seleccionar",solo:""},on:{"click:append":function(t){return e.$emit("set-selection",{facultyId:0})}},model:{value:e.facultyId,callback:function(t){e.facultyId=e._n(t)},expression:"facultyId"}})],1):e._e(),e._v(" "),e.facultyId&&1!==e.selectable.careers.length?r("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg3:""}},[r("v-autocomplete",{attrs:{flat:"","append-icon":e.careerId?"close":"arrow_drop_down","background-color":e.careerId?"grey darken-2":"dark",filter:e.customFilterAutocomplete,items:e.selectable.careers,loading:e.loading&&!e.careerId,readonly:!!e.careerId||e.loading,"hide-details":"","hide-selected":"","item-text":"name","item-value":"id",label:"Selecciona una carrera","no-data-text":"No hay carreras para seleccionar",solo:""},on:{"click:append":function(t){return e.$emit("set-selection",{careerId:0})}},model:{value:e.careerId,callback:function(t){e.careerId=e._n(t)},expression:"careerId"}})],1):e._e(),e._v(" "),e.careerId?r("v-flex",{attrs:{xs12:"",sm6:"",md6:"",lg3:""}},[r("v-autocomplete",{attrs:{flat:"",filter:e.customFilterAutocomplete,items:e.selectable.subjects,"background-color":e.loading&&!e.selectable.subjects.length?"grey darken-2":"dark",loading:e.loading&&!e.selectable.subjects.length,readonly:e.loading,"hide-details":"","hide-selected":"","item-text":"name","item-value":"id",label:"Selecciona una materia","no-data-text":"No hay materias para seleccionar",solo:""},model:{value:e.subjectId,callback:function(t){e.subjectId=e._n(t)},expression:"subjectId"}})],1):e._e()],1)],1)],1)},[],!1,null,"5fb1f4f5",null);t.a=component.exports}}]);